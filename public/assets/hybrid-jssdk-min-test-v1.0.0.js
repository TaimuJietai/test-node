!function(e){var n={};function t(s){if(n[s])return n[s].exports;var i=n[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:s})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(t.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(s,i,function(n){return e[n]}.bind(null,i));return s},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function s(){var e={},n=function(){},t=!1,s=this;function i(e){var n=(e=e||{}).callback,t=e.params||{},i=e.res||{},o=Object.assign({},{msg:i&&i.msg||"",code:i&&i.code||""},i&&i.data||{});s.isFunction(n)?n(o):s.processResult(t,o),t&&s.isFunction(t.complete)&&t.complete(o)}this.defalutParams=function(){return e},this.getIsReady=function(){return t===window.location.href.split("#")[0]},this.isFunction=function(e){return"function"==typeof e},this.sayError=function(e,t){t&&this.isFunction(t.fail)?t.fail(e):n(e)},this.processResult=function(e,n){n.msg&&-1!==n.msg.indexOf("::ok")?e&&(this.isFunction(e.success),1)&&e.success(n):n.msg&&-1!==n.msg.indexOf("::cancel")?e&&(this.isFunction(e.cancel),1)&&e.cancel(n):this.sayError(n,e)},this.invoke=function(n){n=n||{},console.log("invokeParams: ",n);var t=n.active||"",s=n.params||{},o=n.eventType||"function",a=n.callback;if(!t)throw"invoke api name is empty.";if(console.log("invoke webViewHost: ",typeof webViewHost),void 0!==window.webViewHost)if("function"===o){var c="object"==typeof s?Object.assign({},s,e):e;console.log("webViewHost.invoke active: ",t),console.log("webViewHost.invoke params: ",c),webViewHost.invoke(t,c,(function(e){console.log("webViewHost.invoke callback res: ",e),i({callback:a,params:s,res:e})}))}else webViewHost.on(t,(function(e){i({callback:a,params:s,res:e})}));else{i({callback:a,params:s,res:{msg:"当前环境无法使用 jssdk!"}})}},this.ready=function(e){var n=this;this.getIsReady()||this.invoke({active:"ready",params:{success:s=>{t=window.location.href.split("#")[0],n.isFunction(e)&&e(s)},fail:e}})},this.config=function(n){e=n,this.invoke({active:"config",params:n,callback:function(){}})},this.error=function(e){n=this.defalutParams().debug&&this.isFunction(e)&&e||n}}function i(){s.call(this);var e="Idle",n="pending",t=e,i=[];function o(){i.shift(),i.length?a():t=e}function a(){t=n;var e=i&&i[0]||{},s=e.apiName||"",a=e.eventType||"function",c=e.params||{};if(s)this.invoke({active:s,eventType:a,params:c,callback:e=>{this.processResult(c,e),o()}});else{var r="__postMessage api name is empty.";console.error(r),this.processResult(c,{msg:r}),o()}}this.messageOn=function(n){n=n||{},console.log("messageOn messageOnParams: ",n);var s=n.apiName||"";if(console.log("messageOn apiName: ",s),!s)throw"messageOn api name is empty.";var o=n.isAsync||"sync",c=n.eventType||"function",r=n.params||{},u=n.isRepeatable||!0;if("sync"===o){for(var l=!1,f=0,p=i.length;f<p;f++)if(i[f].apiName===s){l=!0;break}if(!u&&l){var y={msg:"Task already exists."};return this.sayError(y,r),void(r&&this.isFunction(r.complete)&&r.complete(Object.assign({},y,r)))}i.push({apiName:s,isAsync:o,eventType:c,isRepeatable:u,params:r}),t===e&&a()}else this.invoke({active:s,eventType:c,params:r})}}t.r(n),window.sdk=new function(){i.call(this),this.apis=[];for(var e=["shareFacebook-sync-function","shareMore-sync-function","uploadImage-async-function","downloadImage-async-function","chooseImage-sync-function","getLocalImgData-async-function","previewImage-sync-function","openLocation-sync-function","getLocation-sync-function","checkJsApi-async-function","openAddress-async-function","scanQRCode-sync-function","onSearchBeacons-sync-function","hideRightMenu-async-function","showRightMenu-async-function","closeWindow-async-function","getContacts-sync-function","getUserDevice-async-function"],n=0,t=e.length;n<t;n++){var s=e[n].split("-"),o=s[0],a=s[1],c=s[2];this.apis.push({apiName:o,isAsync:a,eventType:c}),this[o]=function(e){try{this.messageOn({apiName:o,isAsync:a,eventType:c,params:e})}catch(e){throw e}}}},"function"==typeof window.sdkReadyCallback&&window.sdkReadyCallback(sdk)}]);